<!doctype html><html lang=en-us data-theme><head><meta charset=utf-8><meta name=HandheldFriendly content="True"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer-when-downgrade"><title>Changes to the build process - userrepository blog</title><meta name=description content="Updates and highlights about userrepository, a mostly AUR-based binary repository for Arch and Arch-based distributions"><link rel=icon type=image/x-icon href=https://blog.userrepository.eu/favicon.ico><link rel=apple-touch-icon-precomposed href=https://blog.userrepository.eu/favicon.png><link rel=preconnect href=https://fonts.googleapis.com><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link href="https://fonts.googleapis.com/css2?family=Work+Sans:ital,wght@0,100;0,200;0,300;0,400;0,700;1,400&display=swap" rel=stylesheet><link rel=preconnect href=https://fonts.googleapis.com><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link href="https://fonts.googleapis.com/css2?family=EB+Garamond:ital,wght@0,400;0,700;1,400;1,700&display=swap" rel=stylesheet><link rel=preconnect href=https://fonts.googleapis.com><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link href="https://fonts.googleapis.com/css2?family=Fira+Code:wght@300;400;700&display=swap" rel=stylesheet><link rel=stylesheet href=https://blog.userrepository.eu/css/style.ad09c2e44610ff091e1f77b848b2182edeca5b2060ac586268bcf178d0ed8ee2.css integrity><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://blog.userrepository.eu/org-image.png"><meta name=twitter:title content="Changes to the build process"><meta name=twitter:description content="Userrepository stopped building the full set of packages once a day and now only builds updated packages every 6 hours"><meta property="og:title" content="Changes to the build process"><meta property="og:description" content="Userrepository stopped building the full set of packages once a day and now only builds updated packages every 6 hours"><meta property="og:type" content="article"><meta property="og:url" content="https://blog.userrepository.eu/post/partial-builds/"><meta property="og:image" content="https://blog.userrepository.eu/org-image.png"><meta property="article:section" content="post"><meta property="article:published_time" content="2021-09-10T00:00:00+00:00"><meta property="article:modified_time" content="2021-09-10T00:00:00+00:00"><meta property="og:site_name" content="userrepository blog"><script src=https://kit.fontawesome.com/9e80b3337d.js crossorigin=anonymous></script></head><body><a class=skip-main href=#main>Skip to main content</a><div class=container><header class=common-header><div class=header-top><h1 class=site-title><a href=/>üè†</a></h1><h1 class=site-title-right><a class=theme-switcher href=#></a></h1><script>const STORAGE_KEY="user-color-scheme",defaultTheme="light";let currentTheme,switchButton,autoDefinedScheme=window.matchMedia("(prefers-color-scheme: dark)");const autoChangeScheme=e=>{currentTheme=e.matches?"dark":"light",document.documentElement.setAttribute("data-theme",currentTheme),changeButtonText()};document.addEventListener("DOMContentLoaded",function(){switchButton=document.querySelector(".theme-switcher"),currentTheme=detectCurrentScheme(),currentTheme=="dark"&&document.documentElement.setAttribute("data-theme","dark"),currentTheme=="auto"&&(autoChangeScheme(autoDefinedScheme),autoDefinedScheme.addListener(autoChangeScheme)),changeButtonText(),switchButton.addEventListener("click",switchTheme,!1)});function detectCurrentScheme(){return localStorage.getItem(STORAGE_KEY)?localStorage.getItem(STORAGE_KEY):defaultTheme?defaultTheme:window.matchMedia?window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light":"light"}function changeButtonText(){switchButton.textContent=currentTheme=="dark"?"üåû":"üåô"}function switchTheme(){currentTheme=="dark"?(localStorage.setItem(STORAGE_KEY,"light"),document.documentElement.setAttribute("data-theme","light"),currentTheme="light"):(localStorage.setItem(STORAGE_KEY,"dark"),document.documentElement.setAttribute("data-theme","dark"),currentTheme="dark"),changeButtonText()}</script></div><nav><a href=https://blog.userrepository.eu/about/ title>About</a>
<a href=https://github.com/brunomiguel/userrepository title>GitHub</a>
<a href=https://userrepository.eu title>Repository</a></nav></header><main id=main tabindex=-1><article class="post h-entry"><header class=post-header><h1 class="p-name post-title">Changes to the build process</h1></header><div class="content e-content"><p>Until a few days ago, all the packages available at userrepository.eu were built in batch. Given the number of packages is over 800, it took more than 10 hours (yes, 10 hours) to complete each daily full build.</p><p>Now, a new option in the build script only builds the updated packages. Not only that, all <code>*-git</code> packages are also built with this new option. I made this decision because the lack of version updates on these AUR packages doesn&rsquo;t mean there isn&rsquo;t an update to them.</p><p>The script runs every 6 hours and takes about 4h30m to complete.</p><p>To finish this blog post, a thank you note to <a href=https://fosshost.org>Fosshost</a> for kindly increasing the resources on the VM.</p></div><div class=post-info><div class="post-date dt-published">2021-09-10</div><a class="post-hidden-url u-url" href=https://blog.userrepository.eu/post/partial-builds/>https://blog.userrepository.eu/post/partial-builds/</a>
<a href=https://blog.userrepository.eu class="p-name p-author post-hidden-author h-card" rel=me>Bruno Miguel</a><div class=post-taxonomies><ul class=post-categories><li><a href=https://blog.userrepository.eu/categories/>news</a></li></ul><ul class=post-tags><li><a href=https://blog.userrepository.eu/tags/userrepository>#userrepository</a></li><li><a href=https://blog.userrepository.eu/tags/changes>#changes</a></li></ul></div></div></article><div class="pagination post-pagination"><div class="left pagination-item"><a href=/post/more-than-1000-packages/>More than 1000 packages available</a></div><div class="right pagination-item"><a href=/post/featured-package-emptty/>Featured package: emptty-git</a></div></div></main><footer class=common-footer><div class=common-footer-bottom><div class=copyright><div><p><a rel=license href=http://creativecommons.org/licenses/by/4.0/>CC-BY-4.0</a>, Bruno Miguel, 2022<br>Powered by <a target=_blank rel="noopener noreferrer" href=https://gohugo.io/>Hugo</a>, based on <a target=_blank rel="noopener noreferrer" href=https://github.com/mitrichius/hugo-theme-anubis>Anubis</a><br></p></div></div></div><p class="h-card vcard"><a href=https://blog.userrepository.eu class="p-name u-url url fn" rel=me>Bruno Miguel</a></p></footer></div></body></html>